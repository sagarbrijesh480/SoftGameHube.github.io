void 0===window.cads&&(window.cads={}),void 0===window.cads.products&&(window.cads.products={}),window.cads.common={href:window&&window.location&&window.location.href,hostName:window&&window.location&&window.location.hostname,currScript:document.currentScript,userAgent:navigator.userAgent,pubWithSubDomain:["mashable"],onoArray:["in.mashable.com","me.mashable.com","curlytales.com","in.ign.com","hauterrfly.com"],eventListenerArray:["scroll","click","keydown","keyup","mouseover","mouseup","touchstart"],theDocument:window.parent.document||top.document,logsArray:[],debugParam:()=>"true"===cadsCommon.getParamValueByName("cads-debug",cadsCommon.href),log:o=>{cadsCommon.debugParam()?console.log(o):cadsCommon.logsArray.push(o)},splitfn:o=>window.location.hostname.split(o),createHTMLElement:o=>{try{return cadsCommon.theDocument.createElement(o)}catch(o){return""}},fetchElement:o=>{try{return cadsCommon.theDocument.querySelector(o)}catch(o){return""}},fetchElements:o=>{try{return cadsCommon.theDocument.querySelectorAll(o)}catch(o){return""}},domainname:"",getDomainName:o=>{let e=o=(o=(o=(o=(o=(o=o.replace(new RegExp(/^\s+/),"")).replace(new RegExp(/\s+$/),"")).replace(new RegExp(/\\/g),"/")).replace(new RegExp(/^http\:\/\/|^https\:\/\//i),"")).replace(new RegExp(/^www\./i),"")).replace(new RegExp(/\/(.*)/),"");o.match(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i))?o=o.replace(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i),""):o.match(new RegExp(/\.[a-z]{2,4}$/i))&&(o=o.replace(new RegExp(/\.[a-z]{2,4}$/i),""));let c,a=/^(?:\w+\:\/\/)?([^\/]+)([^\?]*)\??(.*)$/.exec(o)[1];return!!o.match(new RegExp(/\./g))?(c=a.split(".")[1],-1!==cadsCommon.pubWithSubDomain.indexOf(c)?e:(o=>{const e=o.split(".");return e.length>2&&e.shift(),e.join(".")})(e)):e},getParamValueByName:(o,e)=>{var c=new URL(e);return new URLSearchParams(c.search).get(o)},injectConfigScript:o=>{var e=cadsCommon.createHTMLElement("script");e.className="cads-config-script",e.type="text/javascript",e.async=!0;var c=("https:"===document.location.protocol?"https://":"http://")+"cdn.contextads.live/publishers/v3/"+o+"/cads-"+o;e.src=null!==cadsCommon.getParamValueByName("cads-product",cadsCommon.href)?c+".demo.min.js":c+".min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a),cadsCommon.log("[CADS] : Config script injected"),cadsCommon.log(`[CADS] : Config script path ${e.src}`),cadsCommon.fetchElement(".cads-config-script").onload=(()=>{window.top.cadsconfigloaded=!0})},callDacAndPrebid:()=>{window.top.dacAndPrebidExists=!0;const o=cadsCommon.createHTMLElement("script");o.src="https://dac.contextads.live/dac.min.js",o.async=!0,o.defer=!0,cadsCommon.log(`[ocument.body] : ${document.body}`),document.body&&document.body.appendChild(o),cadsCommon.log("[CADS] : DAC script injected"),cadsCommon.onoArray.includes(cadsCommon.hostName)&&cadsCommon.prebidwrapper()},currentProduct:"",checkParamsExistInCurrScript:()=>{cadsCommon.currScript&&cadsCommon.currScript.src.indexOf("?")>-1?(cadsCommon.currentProduct=cadsCommon.getParamValueByName("product",cadsCommon.currScript.src),cadsCommon.log(`[CADS] : Found product ${cadsCommon.currentProduct}`),window.top.configInjected||(window.top.configInjected=!0,cadsCommon.injectConfigScript(cadsCommon.domainname))):(cadsCommon.log("[CADS] : No paramters"),void 0===window.top.cadsLoaded&&(cadsCommon.onoArray.includes(cadsCommon.hostName)&&window===window.top?cadsCommon.noEventListener()?cadsCommon.checkCadsScriptExists():cadsCommon.eventListenerArray.forEach(o=>{window.addEventListener(o,cadsCommon.checkCadsScriptExists)}):cadsCommon.checkCadsScriptExists(),null===cadsCommon.getParamValueByName("cads-product",cadsCommon.href)&&(cadsCommon.currentProduct=null)))},checkCadsScriptExists:()=>{window.top.cadsLoaded?cadsCommon.eventListenerArray.forEach(o=>{window.removeEventListener(o,cadsCommon.checkCadsScriptExists)}):(window.top.cadsLoaded=!0,cadsCommon.injectConfigScript(cadsCommon.domainname))},noEventListener:()=>"true"===cadsCommon.getParamValueByName("nolistener",cadsCommon.href),noAds:()=>"true"===cadsCommon.getParamValueByName("noads",cadsCommon.href)||null!==cadsCommon.getParamValueByName("special",cadsCommon.href),noGoogleAds:()=>"true"===cadsCommon.getParamValueByName("nogglads",cadsCommon.href),device:"desktop",deviceType:()=>cadsCommon.userAgent&&"string"==typeof cadsCommon.userAgent&&/Mobi/i.test(cadsCommon.userAgent)?"mobile":"desktop",ishomepage:!1,isHomePage:()=>"/"===window.location.pathname&&""===window.location.hash,isdemo:!1,demoProducts:[],demoProduct:()=>null!==cadsCommon.getParamValueByName("cads-product",cadsCommon.href)&&(cadsCommon.demoProducts=cadsCommon.getParamValueByName("cads-product",cadsCommon.href).split("|").map(o=>o.toLowerCase()),!0),getAudience:()=>{var o=null,e=null;try{var c=localStorage.getItem("fmgctxuid")||cadsCommon.readCookie("fmgctxuid")||null;if(c){var a=JSON.parse(c);a.id&&a.id.length&&(o=a.id),a.cat&&(e=a.cat)}}catch(o){console.log("%c audience call error","color:red")}return{uuid:o,category:e}},readCookie:o=>{var e,c,a,d=document.cookie.split(";");for(e=0;e<d.length;e++)if(c=d[e].substr(0,d[e].indexOf("=")),a=d[e].substr(d[e].indexOf("=")+1),(c=c.replace(/^\s+|\s+$/g,""))===o)return decodeURI(a);return""},writeCookie:(o,e,c)=>{var a=new Date;return c=c||1,a.setTime(+a+864e5*c),window.document.cookie=o+"="+e+"; expires="+a.toGMTString()+"; path=/",e},getAbsolutePosition:o=>{var e={};for(e.x=o.offsetLeft,e.y=o.offsetTop;o.offsetParent&&(e.x=e.x+o.offsetParent.offsetLeft,e.y=e.y+o.offsetParent.offsetTop,o!==document.getElementsByTagName("body")[0]);)o=o.offsetParent;return e},cb:Math.floor(99999999999*Math.random()),characterSet:document.charset?document.characterSet:"",serverUrl:"//delivery.contextads.live/www/delivery/rtb/rtb_ajs.php",serverUrlVibe:"//delivery.contextads.live/www/delivery/Outstream/delivery/article.php",callAdServer:(o,e,c)=>{let a=cadsCommon.fetchElement("#"+c);if(null!==a){cadsCommon.log(`[CADS ${e.toUpperCase()}] : Zone ${o} called`);var d=cadsCommon.createHTMLElement("script");d.type="text/javascript",d.src="vibe"===e?cadsCommon.serverUrlVibe:cadsCommon.serverUrl,d.src+="?zoneid="+o,d.src+="&cb="+cadsCommon.cb,d.src+="&charset="+cadsCommon.characterSet,d.src+="&loc="+escape(window.location),document.referrer&&(d.src+="&referer="+escape(document.referrer)),d.src+="&containerId="+c,d.src+=`&product=${e}`;try{cadsCommon.getAudience().category&&Object.keys(cadsCommon.getAudience().category).forEach(o=>{Object.keys(cadsCommon.getAudience().category[o]).forEach(e=>{a.setAttribute("data-contextads-user_cat_"+o.slice(1)+e,cadsCommon.getAudience().category[o][e])})})}catch(o){console.log("%c[CADS] : Error in DAC User Data","color:red")}cadsCommon.fetchElement(`#${c}`).appendChild(d)}},probeCall:(o,e,c)=>{var a=`https://pblog.contextads.live/probe?url=${cadsCommon.href.split("#")[0]}&deviceCheck=${cadsCommon.device}&tag=${o}&hostname=${cadsCommon.hostName}&product=${e}&selector=${c}`;cadsCommon.log(`[CADS] probeURL: ${a} `);var d=cadsCommon.createHTMLElement("script");d.type="text/javascript",d.src=a,cadsCommon.debugParam()||document.body.appendChild(d)},executeProduct:o=>{if(void 0===window.cads.config||window.top.dacAndPrebidExists||(cadsCommon.isdisabled||cadsCommon.callDacAndPrebid(),cadsCommon.disabledUrl()),(window.top.cadsProducts.includes(o)||window.top.cadsProducts.includes(null)||cadsCommon.isdemo&&cadsCommon.demoProducts.includes(o))&&!cadsCommon.isdisabled)if(cadsCommon.isdemo)void 0===window.top.demoExcuted&&(window.top.demoExcuted=!0,cadsCommon.demoProducts.forEach(o=>{void 0!==window.cads.products[o]?window.cads.products[o].init():cadsCommon.log(`[CADS] : product ${o} does not exist`)}));else{if(void 0!==window.cads.products[o]){cadsCommon.log(`[CADS] : Execute product ${o}`),window.cads.products[o].init();const e=window.top.cadsProducts.indexOf(o);return e>-1&&window.top.cadsProducts.splice(e,1),!0}cadsCommon.log("[CADS] : Execute all onbaorded products"),Object.keys(window.cads.products).forEach(o=>{(void 0===cadsConfig.productConfig||cadsConfig.productConfig&&!0===cadsConfig.productConfig[o])&&window.cads.products[o].init()})}},prebidwrapper:()=>{cadsCommon.log("[CADS] : Prebid wrapper injected");var o=cadsCommon.createHTMLElement("script");o.id="prebidWrapper",o.async="true",o.src=`//cdn.contextads.live/exchanges/fmgwrapper/prebid-${cadsCommon.domainname}.js`,document.body.appendChild(o)},isdisabled:!1,disabledUrl:()=>{for(let o=0;o<cadsConfig.disabledUrls.length;o++){const e=cadsConfig.disabledUrls[o];if(cadsCommon.href.includes(e)){cadsCommon.isdisabled=!0;break}}cadsCommon.log(`[CADS] : disabled ${cadsCommon.isdisabled}`)},init:()=>{(cadsCommon.log("[CADS] : Document ready"),cadsCommon.ishomepage=cadsCommon.isHomePage(),cadsCommon.device=cadsCommon.deviceType(),cadsCommon.isdemo=cadsCommon.demoProduct(),cadsCommon.domainname=cadsCommon.getDomainName(cadsCommon.href),cadsCommon.noGoogleAds()||null!==cadsCommon.getParamValueByName("cads-product",cadsCommon.href))&&cadsCommon.fetchElements("[id^='google_ads_iframe_']").forEach(o=>{o.parentElement.parentElement.removeChild(o.parentElement)});cadsCommon.checkParamsExistInCurrScript(),window.top.cadsProducts=void 0===window.top.cadsProducts?[cadsCommon.currentProduct]:[...window.top.cadsProducts,cadsCommon.currentProduct],cadsCommon.log(`[CADS] : cads products array : ${window.top.cadsProducts}`);let o=setInterval(()=>{window.top.cadsconfigloaded&&(clearInterval(o),cadsCommon.executeProduct(window.top.cadsProducts.at(-1)))})}};var cadsCommon=window.cads.common;cadsCommon.init();