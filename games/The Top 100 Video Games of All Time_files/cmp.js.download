(()=>{"use strict";var e={575:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.handlers=[],this.byId=new Map,this.name=e}executeHandlers(e,t){var s;t&&(null===(s=this.byId.get(t))||void 0===s||s.handlers.forEach((s=>s(Object.assign({},e),t)))),this.handlers.forEach((s=>s(Object.assign({},e),t)))}removeHandler(e,t){var s;const i=(null===(s=this.byId.get(""+t))||void 0===s?void 0:s.handlers)||this.handlers,n=i.indexOf(e);n>=0&&i.splice(n,1)}}},987:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(s(575));t.default=class{constructor(){this.isReady=!0,this.events=new Map,this.eventHistory=[]}on(e,t,s){let i=this.events.get(e);i||(i=new n.default(e),this.events.set(e,i));let a=i.handlers;if(s){let e=i.byId.get(s);e||(e={handlers:[]},i.byId.set(s,e)),a=e.handlers}a.push(t)}off(e,t,s){var i;null===(i=this.events.get(e))||void 0===i||i.removeHandler(t,s)}fire(e,t,s){var i;t&&Object.entries(t).forEach((([e,s])=>{void 0===s&&delete t[e]})),this.eventHistory.push({eventName:e,data:Object.assign({timestamp:Date.now()},t),id:s}),null===(i=this.events.get(e))||void 0===i||i.executeHandlers(t,s)}history(e){return e?this.eventHistory.filter((t=>t.eventName===e)):this.eventHistory}}},129:function(e,t,s){var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,a){function o(e){try{r(i.next(e))}catch(e){a(e)}}function l(e){try{r(i.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}r((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SasIabApi=void 0;const n=s(89);class a{constructor(e,t){this.apiWasFound=!1,this.apiAnsweredOk=!1,this.eventMessageListenerAdded=!1,this.apiCallbacks={},this.myCmpCallbackFinished=void 0,this.maxSearchRetry=50,this.doubleCallbackTime=10,this.retryNumber=0,this.retryInterval=0,this.name=e.name,this.sasCookieName=e.sasCookieName,this.sasAddtlCookieName=e.sasAddtlCookieName,this.version=e.version,this.getConsentFunction=e.getConsentFunction,this.apiFunctionName=e.apiFunctionName,this.consentObjectConsentDataName=e.consentObjectConsentDataName,this.consentObjectAdditionalConsentDataName=e.consentObjectAdditionalConsentDataName,this.apiLocator=e.apiLocator,this.sentMessage=e.sentMessage,this.postMessageReturnObjectName=e.postMessageReturnObjectName,t&&(this.myCmpCallbackFinished=()=>t()),this.lastCallbackResult={id:"",addtlConsent:"",eventStatus:"",gdprApplies:void 0,timeStamp:0,vendor:{consents:{},legitimateInterests:{}}}}get gdprApplies(){return this._gdprApplies}cmpCallback(e,t){var s;if(!t||!e||void 0===e[this.consentObjectConsentDataName]||null===e[this.consentObjectConsentDataName])return void window.sas.events.fire("ApiAnswered Wrong answer",{consent:e,success:t,failType:"Wrong answer",version:this.version},this.name);if("stub"===e.cmpStatus&&null!==window.sas.localStorage.getItem(this.sasCookieName))return void window.sas.events.fire("ApiAnswered Stub answer",{consent:e,success:t,failType:"Ignoring stub data",version:this.version},this.name);this.apiAnsweredOk=!0,this._gdprApplies=e.gdprApplies;const i={consentObject:e,name:this.consentObjectConsentDataName};if(e[this.consentObjectConsentDataName]&&window.sas.localStorage.setItem(this.sasCookieName,e[this.consentObjectConsentDataName]),this.consentObjectAdditionalConsentDataName&&e[this.consentObjectAdditionalConsentDataName]&&this.sasAddtlCookieName){let t=e[this.consentObjectAdditionalConsentDataName];Array.isArray(t)&&(t=JSON.stringify(t)),window.sas.localStorage.setItem(this.sasAddtlCookieName,t),i.additionalConsent=this.consentObjectAdditionalConsentDataName}window.sas.events.fire("ApiAnswered Valid answer",i,this.name),null===(s=this.myCmpCallbackFinished)||void 0===s||s.call(this)}callApiLocal(){return i(this,void 0,void 0,(function*(){const e=window[this.apiFunctionName];if(void 0!==e&&"[object Function]"===Object.prototype.toString.call(e)){if(this.apiWasFound=!0,window.sas.events.fire("ApiCalled",{location:"Same Iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const t=()=>{const t=e("getGPPData");this.cmpCallback(t,null!=t)},s=Number((yield(0,n.betterGpp)("ping")).gppVersion||1);s<1.1&&t(),e(this.getConsentFunction,(e=>{s<1.1?t():this.cmpCallback(null==e?void 0:e.pingData,null!=(null==e?void 0:e.pingData))}))}else e(this.getConsentFunction,this.version,((e,t)=>{this.cmpCallback(e,t)}));return!0}return!1}))}callApiInFrame(){let e,t=window;for(;!e;){try{t.frames[this.apiLocator]&&(e=t)}catch(e){}if(t===window.top)break;t=t.parent}if(e){this.apiWasFound=!0,window.sas.events.fire("ApiFrameFound",{version:this.version},this.name);const t=(t,s,i)=>{const n="smartjs"+Math.random();this.apiCallbacks[n]=i,this.sendPostMessage(t,s,n,e)};if(this.eventMessageListenerAdded||(window.addEventListener("message",(e=>{this.readPostMessageResponse(e)})),this.eventMessageListenerAdded=!0),window.sas.events.fire("ApiCalled",{location:"Different iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const s="smartjsPing"+Math.random();this.apiCallbacks[s]=e=>{var s,i;((null===(s=e.returnValue)||void 0===s?void 0:s.gppVersion)?Number(null===(i=e.returnValue)||void 0===i?void 0:i.gppVersion):1)<1.1&&t("getGPPData",void 0,((e,t)=>{this.cmpCallback(e,t)}))},this.sendPostMessage("ping",null,s,e)}return t(this.getConsentFunction,void 0,((e,t)=>{this.cmpCallback(e,t)})),!0}return!1}sendPostMessage(e,t,s,i){const n={};n[this.sentMessage]={command:e,parameter:t,callId:s,version:this.version},null==i||i.postMessage(n,"*")}readPostMessageResponse(e){const t="string"==typeof e.data&&-1!==e.data.indexOf(this.postMessageReturnObjectName)?JSON.parse(e.data):e.data;if(t[this.postMessageReturnObjectName]){const s=t[this.postMessageReturnObjectName];"function"!=typeof this.apiCallbacks[s.callId]||this.isCallbackDouble(s.callId,e)||(this.assignLastCallback(s.callId,e),this.apiCallbacks[s.callId](s.returnValue,s.success,this.version))}}isCallbackDouble(e,t){var s,i,n;let a=!1;const o=null===(i=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.__tcfapiReturn)||void 0===i?void 0:i.returnValue;return e===this.lastCallbackResult.id&&(null==t?void 0:t.timeStamp)-this.lastCallbackResult.timeStamp<this.doubleCallbackTime&&this.lastCallbackResult.addtlConsent===(null==o?void 0:o.addtlConsent)&&this.lastCallbackResult.eventStatus===(null==o?void 0:o.eventStatus)&&this.lastCallbackResult.gdprApplies===(null==o?void 0:o.gdprApplies)&&JSON.stringify(this.lastCallbackResult.vendor.consents)===JSON.stringify(null===(n=null==o?void 0:o.vendor)||void 0===n?void 0:n.consents)&&(a=!0),a}assignLastCallback(e,t){var s,i;const n=null===(i=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.__tcfapiReturn)||void 0===i?void 0:i.returnValue;this.lastCallbackResult.id=e,this.lastCallbackResult.addtlConsent=null==n?void 0:n.addtlConsent,this.lastCallbackResult.eventStatus=null==n?void 0:n.eventStatus,this.lastCallbackResult.gdprApplies=null==n?void 0:n.gdprApplies,this.lastCallbackResult.timeStamp=null==t?void 0:t.timeStamp,(null==n?void 0:n.vendor)&&(this.lastCallbackResult.vendor=Object.assign({},null==n?void 0:n.vendor))}tryCallApi(e){return i(this,void 0,void 0,(function*(){(yield this.callApiLocal())||(e%10==0&&window.sas.events.fire("ApiNotFoundInFrame",{retryNumber:e},this.name),this.callApiInFrame())}))}searchApiInterval(){return i(this,void 0,void 0,(function*(){this.apiWasFound&&this.apiAnsweredOk||(this.retryNumber%10==0&&window.sas.events.fire("ApiSearch",{retryNumber:this.retryNumber},this.name),yield this.tryCallApi(this.retryNumber)),(this.retryNumber>this.maxSearchRetry||this.apiWasFound&&this.apiAnsweredOk)&&clearInterval(this.retryInterval),this.retryNumber++}))}searchApi(){this.retryInterval=window.setInterval((()=>{this.searchApiInterval()}),500),this.searchApiInterval()}}t.SasIabApi=a,window.SasIabApi=a},89:function(e,t){var s=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,a){function o(e){try{r(i.next(e))}catch(e){a(e)}}function l(e){try{r(i.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,l)}r((i=i.apply(e,t||[])).next())}))};function i(e,t){return new Promise((s=>{const i=window.__gpp(e,((e,t)=>{t&&s(e)}),t);void 0!==i&&s(i)}))}function n(e){return s(this,void 0,void 0,(function*(){if(yield i("hasSection",e)){const t=yield i("getSection",e);return Array.isArray(t)?t[0]:t}return null}))}Object.defineProperty(t,"__esModule",{value:!0}),t.extendedGetSection=t.checkAndGetSection=t.betterGpp=t.ESection=void 0,function(e){e[e.tcfeuv2=2]="tcfeuv2",e[e.uspv1=6]="uspv1",e[e.usnat=7]="usnat",e[e.usca=8]="usca",e[e.usva=9]="usva",e[e.usco=10]="usco",e[e.usut=11]="usut",e[e.usct=12]="usct"}(t.ESection||(t.ESection={})),t.betterGpp=i,t.checkAndGetSection=n,t.extendedGetSection=function(e){return s(this,void 0,void 0,(function*(){return(yield n(e))||(yield n(e+"v1"))}))}},313:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{isAvailable(){let e=!1;try{const t="smart_is_localstorage_available";localStorage.setItem(t,"1"),"1"===localStorage.getItem(t)&&(localStorage.removeItem(t),e=!0)}catch(e){}return this.isAvailable=()=>e,e}getItem(e){return this.isAvailable()?localStorage.getItem(e):null}setItem(e,t){return!!this.isAvailable()&&(localStorage.setItem(e,t),!0)}removeItem(e){return!!this.isAvailable()&&(localStorage.removeItem(e),!0)}}},477:function(e,t,s){var i,n,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(s(987)),l=a(s(313)),r=window.sas=window.sas||{};r.utils=r.utils||{},r.consent=r.consent||{},r.cmd=r.cmd||[],r.livePreview=r.livePreview||{},r.tracing=r.tracing||{},r.loggerQueue=r.loggerQueue||[],r.debugMode=r.debugMode||{},r.debugMode.logsQueue=r.debugMode.logsQueue||[],r.debugMode.bannersQueue=r.debugMode.bannersQueue||[],r.events=(null===(i=r.events)||void 0===i?void 0:i.isReady)?r.events:new o.default,r.localStorage=null!==(n=r.localStorage)&&void 0!==n?n:new l.default,t.default=r}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,s),a.exports}(()=>{s(477);const e=s(129)})()})();